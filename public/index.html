<!DOCTYPE html>
<html>
<head>
  <title>DCF Valuation Tool</title>

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-functions-compat.js"></script>

  <style>
    body { background:#0f172a; color:white; font-family:Arial; padding:40px }
    input, button { padding:10px; font-size:16px }
    .card { background:#1e293b; padding:20px; margin-top:20px; border-radius:10px }
  </style>
</head>

<body>
  <h1>DCF Stock Valuation</h1>

  <input id="ticker" placeholder="AAPL" />
  <button onclick="analyze()">Analyze</button>

  <div id="output"></div>

<script>
  const firebaseConfig = {
    apiKey: "PASTE_FROM_FIREBASE",
    authDomain: "PROJECT.firebaseapp.com",
    projectId: "PROJECT",
    appId: "APP_ID"
  };

  firebase.initializeApp(firebaseConfig);
  const functions = firebase.functions();

  async function analyze() {
    const ticker = document.getElementById("ticker").value;

    try {
      const res = await functions.httpsCallable("analyze")({ ticker });
      const d = res.data;

      document.getElementById("output").innerHTML = `
        <div class="card">
          <h3>${d.ticker}</h3>
          <p>Market Price: $${d.marketPrice}</p>
          <p>Intrinsic Value: $${d.intrinsicValue}</p>
        </div>`;
    } catch (e) {
      alert(e.message);
    }
  }
</script>
</body>
</html>
